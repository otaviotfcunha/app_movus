import requests
from datetime import datetime
import time

# URL do seu endpoint Back4App
url = "https://parseapi.back4app.com/classes/Onibus"

# Substitua com suas credenciais do Back4App
headers = {
    'X-Parse-Application-Id': '7i4omezzaD5fA2eaRtqy3VZKWKiXt93HKay9peBF',
    'X-Parse-REST-API-Key': 'byUxPUFdhua43SEHYRk2HlqSY8SsEvIGvOrm5AqK',
    'Content-Type': 'application/json'
}

# Coordenadas de latitude e longitude
coordinates = [
    ("-22.43739", "-46.82363"),
    ("-22.43733", "-46.82372"),
    ("-22.43720", "-46.82382"),
    ("-22.43711", "-46.82392"),
    ("-22.43702", "-46.82406"),
    ("-22.43687", "-46.82421"),
    ("-22.43676", "-46.82433"),
    ("-22.43668", "-46.82444"),
    ("-22.43653", "-46.82457"),
    ("-22.43642", "-46.82474"),
    ("-22.43631", "-46.82484"),
    ("-22.43619", "-46.82498"),
    ("-22.43609", "-46.82509"),
    ("-22.43593", "-46.82521"),
    ("-22.43578", "-46.82524"),
    ("-22.43566", "-46.82518"),
    ("-22.43554", "-46.82518"),
    ("-22.43548", "-46.82511"),
    ("-22.43534", "-46.82510"),
    ("-22.43521", "-46.82501"),
    ("-22.43505", "-46.82498"),
    ("-22.43490", "-46.82504"),
    ("-22.43490", "-46.82530"),
    ("-22.43492", "-46.82566"),
    ("-22.43492", "-46.82585"),
    ("-22.43492", "-46.82605"),
    ("-22.43493", "-46.82622"),
    ("-22.43494", "-46.82637"),
    ("-22.43495", "-46.82655"),
    ("-22.43495", "-46.82669"),
    ("-22.43496", "-46.82688"),
    ("-22.43496", "-46.82701"),
    ("-22.43493", "-46.82728"),
    ("-22.43492", "-46.82756"),
    ("-22.43492", "-46.82784"),
    ("-22.43494", "-46.82797"),
    ("-22.43493", "-46.82808"),
    ("-22.43493", "-46.82815"),
    ("-22.43491", "-46.82831"),
    ("-22.43490", "-46.82844"),
    ("-22.43490", "-46.82857"),
    ("-22.43490", "-46.82868"),
    ("-22.43489", "-46.82886"),
    ("-22.43489", "-46.82896"),
    ("-22.43488", "-46.82905"),
    ("-22.43488", "-46.82920"),
    ("-22.43486", "-46.82933"),
    ("-22.43485", "-46.82947"),
    ("-22.43482", "-46.82961"),
    ("-22.43482", "-46.82972"),
    ("-22.43483", "-46.82987"),
    ("-22.43477", "-46.83004"),
    ("-22.43477", "-46.83017"),
    ("-22.43478", "-46.83034"),
    ("-22.43478", "-46.83050"),
    ("-22.43478", "-46.83065"),
    ("-22.43476", "-46.83081"),
    ("-22.43476", "-46.83104"),
    ("-22.43476", "-46.83121"),
    ("-22.43469", "-46.83142"),
    ("-22.43465", "-46.83158"),
    ("-22.43462", "-46.83172"),
    ("-22.43451", "-46.83190"),
    ("-22.43448", "-46.83201"),
    ("-22.43437", "-46.83210"),
    ("-22.43428", "-46.83206"),
    ("-22.43417", "-46.83206"),
    ("-22.43409", "-46.83206"),
    ("-22.43398", "-46.83203"),
    ("-22.43382", "-46.83203"),
    ("-22.43368", "-46.83202"),
    ("-22.43359", "-46.83201"),
    ("-22.43348", "-46.83199"),
    ("-22.43338", "-46.83200"),
    ("-22.43321", "-46.83201"),
    ("-22.43301", "-46.83205"),
    ("-22.43288", "-46.83198"),
    ("-22.43269", "-46.83194"),
    ("-22.43249", "-46.83198"),
    ("-22.43235", "-46.83197"),
    ("-22.43217", "-46.83196"),
    ("-22.43201", "-46.83198"),
    ("-22.43186", "-46.83205"),
    ("-22.43169", "-46.83210"),
    ("-22.43152", "-46.83220"),
    ("-22.43135", "-46.83232"),
    ("-22.43126", "-46.83241"),
    ("-22.43118", "-46.83255"),
    ("-22.43108", "-46.83267"),
    ("-22.43107", "-46.83285"),
    ("-22.43106", "-46.83305"),
    ("-22.43105", "-46.83325"),
    ("-22.43102", "-46.83350"),
    ("-22.43111", "-46.83373"),
    ("-22.43116", "-46.83396"),
    ("-22.43119", "-46.83421"),
    ("-22.43125", "-46.83443"),
    ("-22.43130", "-46.83459"),
    ("-22.43137", "-46.83475"),
    ("-22.43150", "-46.83470"),
    ("-22.43165", "-46.83462"),
    ("-22.43177", "-46.83458"),
    ("-22.43192", "-46.83460"),
    ("-22.43196", "-46.83478"),
    ("-22.43200", "-46.83492"),
    ("-22.43207", "-46.83504"),
    ("-22.43226", "-46.83502"),
    ("-22.43245", "-46.83497"),
    ("-22.43262", "-46.83494"),
    ("-22.43276", "-46.83486"),
    ("-22.43290", "-46.83483"),
    ("-22.43306", "-46.83480"),
    ("-22.43317", "-46.83476"),
    ("-22.43327", "-46.83472"),
    ("-22.43334", "-46.83464"),
    ("-22.43344", "-46.83450"),
    ("-22.43347", "-46.83434"),
    ("-22.43358", "-46.83418"),
    ("-22.43365", "-46.83399"),
    ("-22.43373", "-46.83383"),
    ("-22.43383", "-46.83371"),
    ("-22.43388", "-46.83361"),
    ("-22.43391", "-46.83346"),
    ("-22.43396", "-46.83330"),
    ("-22.43408", "-46.83312"),
    ("-22.43414", "-46.83300"),
    ("-22.43423", "-46.83284"),
    ("-22.43428", "-46.83266"),
    ("-22.43434", "-46.83247"),
    ("-22.43445", "-46.83226"),
    ("-22.43452", "-46.83203"),
    ("-22.43453", "-46.83184"),
    ("-22.43460", "-46.83166"),
    ("-22.43468", "-46.83148"),
    ("-22.43469", "-46.83133"),
    ("-22.43474", "-46.83113"),
    ("-22.43477", "-46.83095"),
    ("-22.43478", "-46.83077"),
    ("-22.43479", "-46.83063"),
    ("-22.43482", "-46.83047"),
    ("-22.43483", "-46.83032"),
    ("-22.43484", "-46.83019"),
    ("-22.43484", "-46.83006"),
    ("-22.43486", "-46.82989"),
    ("-22.43488", "-46.82972"),
    ("-22.43488", "-46.82956"),
    ("-22.43488", "-46.82941"),
    ("-22.43490", "-46.82922"),
    ("-22.43492", "-46.82904"),
    ("-22.43492", "-46.82893"),
    ("-22.43493", "-46.82877"),
    ("-22.43494", "-46.82860"),
    ("-22.43495", "-46.82847"),
    ("-22.43495", "-46.82827"),
    ("-22.43496", "-46.82814"),
    ("-22.43497", "-46.82801"),
    ("-22.43497", "-46.82787"),
    ("-22.43496", "-46.82765"),
    ("-22.43498", "-46.82749"),
    ("-22.43498", "-46.82737"),
    ("-22.43499", "-46.82723"),
    ("-22.43509", "-46.82711"),
    ("-22.43521", "-46.82702"),
    ("-22.43529", "-46.82688"),
    ("-22.43538", "-46.82680"),
    ("-22.43551", "-46.82665"),
    ("-22.43569", "-46.82647"),
    ("-22.43577", "-46.82633"),
    ("-22.43589", "-46.82622"),
    ("-22.43600", "-46.82612"),
    ("-22.43612", "-46.82600"),
    ("-22.43622", "-46.82588"),
    ("-22.43635", "-46.82577"),
    ("-22.43646", "-46.82566"),
    ("-22.43658", "-46.82561"),
    ("-22.43667", "-46.82552"),
    ("-22.43678", "-46.82547"),
    ("-22.43695", "-46.82549"),
    ("-22.43711", "-46.82550"),
    ("-22.43732", "-46.82555"),
    ("-22.43748", "-46.82559"),
    ("-22.43763", "-46.82572"),
    ("-22.43777", "-46.82581"),
    ("-22.43788", "-46.82572"),
    ("-22.43796", "-46.82560"),
    ("-22.43802", "-46.82549"),
    ("-22.43809", "-46.82540"),
    ("-22.43798", "-46.82515"),
    ("-22.43788", "-46.82501"),
    ("-22.43778", "-46.82484"),
    ("-22.43772", "-46.82473"),
    ("-22.43755", "-46.82467"),
    ("-22.43747", "-46.82455"),
    ("-22.43740", "-46.82446"),
    ("-22.43733", "-46.82438"),
    ("-22.43726", "-46.82428"),
    ("-22.43718", "-46.82417"),
    ("-22.43713", "-46.82407"),
    ("-22.43715", "-46.82400"),
    ("-22.43720", "-46.82390"),
    ("-22.43727", "-46.82383"),
    ("-22.43734", "-46.82372"),
    ("-22.43739", "-46.82363")
]

# Data e hora atual
data_atual = datetime.now().strftime("%Y-%m-%d")
hora_atual = datetime.now().strftime("%H:%M:%S")

# Fazendo a solicitação POST para cada conjunto de coordenadas com atraso de 2 segundos
while True:
    for latitude, longitude in coordinates:
        payload = {
            "latitude": str(latitude),
            "longitude": str(longitude),
            "data": str(data_atual),
            "hora": str(hora_atual)
        }

        response = requests.post(url, headers=headers, json=payload)

        if response.status_code == 201:
            print(f"Registro criado com sucesso para {latitude}, {longitude}")
        else:
            print(f"Falha ao criar registro para {latitude}, {longitude}. Código de status: {response.status_code}")
            print(response.text)

        # Adiciona um atraso de 2 segundos entre as solicitações
        time.sleep(2)